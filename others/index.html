<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	  <link rel="stylesheet" href="https://haru-ymth.github.io/style.css">
	  <title>
      その他
    </title>
	  <meta charset="utf-8"> 
  </head>
<body>
	<div id="header"></div>
  <script src="https://haru-ymth.github.io/include.js"></script>
  <h2>
    Scratchの傾向何P何位にあるのか調べるやつ(JavaScript)
  </h2>
  <pre><code>async function calKei() {
    const projectId = prompt(&quot;調べたいプロジェクトIDを入力&quot;);
    const saidai = 10000;
    let offset = 0;
    let page = 0;
    let rank = 0;
    let ok = 0;
    while(ok==0){
        const res = await fetch(&quot;https://api.scratch.mit.edu/explore/projects?limit=16&amp;offset=&quot;+offset+&quot;&amp;language=ja&amp;mode=trending&amp;q=*&quot;);
        const users = await res.text();
        let idList = users.split(&quot;\&quot;id\&quot;&quot;);
        let i = 2;
        while(i&lt;idList.length){
            idList.splice(i,1);
            if(i&lt;idList.length){
                idList.splice(i,1);
            }
            i += 1;
        }
        idList.splice(0,1);
        i = 0;
        while(i&lt;idList.length){
            idList[i] = idList[i].slice(1,10);
            i += 1;
        }
    if(idList.includes(projectId)){
        rank = offset + idList.indexOf(projectId) + 1;
        page = Math.floor(rank/16) + 1;
        rank = rank%16;
        ok = 1;
    }
    if(offset&gt;=saidai){
        rank =&quot;None&quot;;
        page =&quot;None&quot;;
        break;
    }
    offset += 16;
    console.log(`全ページ合わせて${offset}位まで調べました`);
    }
    console.log(`=====結果====\n${page}ページ目、${rank}位にありました。`)
  };
  
  calKei();</code></pre>
  <main>
    scratch.mit.edu内（「scratch.mit.edu/〇〇〇〇」っていう感じのURLだったらどこでも良い）でのコンソールにて実行しないとなんかCORSとかに引っかかるみたいです。
  </main>
</body>
</html>
